$().ready(function() {        //$(document).foundation();	/** CK Editor Load **/	$('.wysiwygme').each(function(){		var sk = $(this).attr("session_key");		CKEDITOR.replace($(this).attr("ID"), 		{			filebrowserBrowseUrl : '/bundles/mapescms/js/ckeditor/plugins/pdw/pdw_file_browser/index.php?editor=ckeditor&sk=' + sk,			filebrowserImageBrowseUrl : '/bundles/mapescms/js/ckeditor/plugins/pdw/pdw_file_browser/index.php?editor=ckeditor&filter=image&sk=' + sk,			filebrowserFlashBrowseUrl : '/bundles/mapescms/js/ckeditor/plugins/pdw/pdw_file_browser/index.php?editor=ckeditor&filter=flash&sk=' + sk
		});	});	$('.wysiwygme-basic').each(function(){		CKEDITOR.replace( $(this).attr("ID"),                {                        toolbar :                        [                                { name: 'basicstyles', items : [ 'Bold','Italic','Underline'] },                                { name: 'paragraph', items : [ 'NumberedList','BulletedList' ] },                                { name: 'links', items : [ 'Link','Unlink','Anchor' ] },                                { name: 'insert', items : [ 'Image' ] },                                { name: 'document', items : [ 'Source'] }                        ]                });	});	/** Image Browser Load **/	$('.imageme').each(function(){		var imageSrc = $(this).val();		$(this).parent().append('<div class="imgContainer"><img id="' + $(this).attr("id") + 'img" src="' + imageSrc + '" /></div><a href="#" onClick="openFileBrowser(\'' + $(this).attr("id") + '\',\'' + $(this).attr("session_key") + '\'); return false">Manage Image</a> | <a href="#" onClick="$(\'#' + $(this).attr("id") + '\').val(\'\'); $(\'#' + $(this).attr("id") + 'img\').attr(\'src\', \'\'); return false">Remove Image</a>');		$(this).hide();	});        /** File Browser Load **/	$('.fileme').each(function(){		$(this).parent().append('<br /><a href="#" onClick="openFileBrowser(\'' + $(this).attr("id") + '\'); return false">Manage Files</a> | <a href="#" onClick="$(\'#' + $(this).attr("id") + '\').val(\'\'); return false">Remove File</a>');	});	/** Parent Page Picker**/	$('.parentme').each(function(){		$(this).hide();		var holderID = $(this).attr("id") + "-holder";                var parentmenuID = $(this).attr("parentmenuID") ;		var origID = $(this).val();		var dontAllow = $(this).attr("dontAllow");                if(dontAllow == ""){                    dontAllow = -1 ;                }		$(this).parent().append("<div id='" + holderID + "' style='cursor: pointer'><span class='menuSelection'><i>Loading</i></span></div>");		$("#" + holderID).menu({			content: $('#' + parentmenuID).html(),			flyOut: true,			finalCapture: "#" + holderID,			finalCaptureOrig: "#" + $(this).attr("id"),			dontAllow: dontAllow		});		var counter = 0;		$('#' + parentmenuID + " a[origID='" + origID + "']").each(function()		{			$("#" + holderID + " .menuSelection").text($(this).attr("origText"));			counter++;		});		if(counter == 0)			$("#" + holderID + " .menuSelection").text("[Click here to select]");	});                $('.iphonecheck').each(function(){            $(this).iphoneStyle();        });        //Oneupuploader setup        $(".fileuploadme").each(function(){            $(this).closest('.sonata-ba-collapsed-fields').append($("#fileupload-container").remove());            $(this).closest('.form-group').hide();        });		$('.my-datepicker').datetimepicker({			format: 'DD-MM-YYYY',			pickTime: false,		}).on("dp.change",function (e) {			linked_datepicker = $(this).attr('data-linked');			linked_rule = $(this).attr('data-linked-rule');            if(linked_datepicker != "my_datepicker_" && linked_rule != ""){								var thisValue = $(this).data("DateTimePicker").getDate();				var linkedValue = $('#' + linked_datepicker).data("DateTimePicker").getDate();				if((linked_rule == 'less_than' &&  thisValue > linkedValue) || (linked_rule == 'greater_than' &&  thisValue < linkedValue) ){									$('#' + linked_datepicker).data("DateTimePicker").setDate(thisValue);				}			}        });				});function openFileBrowser(id, sk){  fileBrowserlink = "/bundles/mapescms/js/ckeditor/plugins/pdw/pdw_file_browser/index.php?editor=standalone&returnID=" + id + "&sk=" + sk;  window.open(fileBrowserlink,'pdwfilebrowser', 'width=1000,height=650,scrollbars=no,toolbar=no,location=no');}function replacer(key, value) {    if (typeof value === 'number' && !isFinite(value)) {        return String(value);    }    return value;}